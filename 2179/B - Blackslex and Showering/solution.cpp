#include<bits/stdc++.h>using namespace std;typedef long long ll;void f(ll n,vector<ll>&a){    for(ll i=0;i<n;i++)cin>>a[i];}void solve(){    ll n;    cin>>n;    vector<ll>arr(n);    f(n,arr);    ll total=0;    for (ll i = 1; i < n; i++)total+=(abs(arr[i]-arr[i-1]));     ll ans=0;    ans=max(ans,abs(arr[0]-arr[1]));    ans=max(ans,abs(arr[n-1]-arr[n-2]));     for (ll i = 1; i < n-1; i++)    {        ans=max(ans,abs(arr[i]-arr[i+1])+abs(arr[i]-arr[i-1])-abs(arr[i+1]-arr[i-1]));    }    cout<<total-ans<<'\n';} int main(){ll t;cin>>t;while (t--){    solve();}     return 0;}