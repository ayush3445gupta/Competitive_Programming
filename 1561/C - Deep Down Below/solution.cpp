#include<bits/stdc++.h>using namespace std;typedef long long ll;bool check(ll val,vector<pair<ll,ll>>&vec){    for(auto &p:vec){        if(val>=p.first)val+=p.second;        else return false;    }    return true;}void solve(){    ll n;    cin>>n;    vector<pair<ll,ll>>vec;    for (ll i = 0; i < n; i++)    {       ll k;       cin>>k;       ll req=0;       for (ll j = 0; j < k; j++)       {        ll a;        cin>>a;        req=max(req,a-j);       }       vec.push_back({req+1,k});    }    sort(begin(vec),end(vec));    ll left=vec[0].first,right=1e12;    ll ans=-1;    while (left<=right)    {        ll mid=left+(right-left)/2;        if(check(mid,vec)){            ans=mid;            right=mid-1;        }        else left=mid+1;    }    cout<<ans<<'\n';} int main(){ll t;cin>>t;while (t--){    solve();}     return 0;}