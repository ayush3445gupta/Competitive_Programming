#include<bits/stdc++.h>using namespace std;typedef long long ll;void solve(){    ll n,k;    cin>>n>>k;    vector<pair<ll,ll>>vec(n);    for (ll i = 0; i < n; i++)    {        cin>>vec[i].first;        vec[i].second=i;    }    sort(begin(vec),end(vec));    ll ans=n;    for (ll i = 0; i < n;)    {        ll j=i,prev=-1;        priority_queue<ll>pq;        while (j<n && vec[j].first==vec[i].first)        {            ll k=vec[j].second-1-prev;            pq.push(k);            prev=vec[j].second;            j++;        }        pq.push(n-1-prev);        ll x=pq.top();        pq.pop();        pq.push(x/2);        ans=min(ans,pq.top());        i= j;    }    cout<<ans<<'\n';  } int main(){ll t;cin>>t;while (t--){    solve();}     return 0;}