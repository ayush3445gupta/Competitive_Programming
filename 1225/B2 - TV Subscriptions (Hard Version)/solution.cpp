#include<bits/stdc++.h>using namespace std;typedef long long ll;void f(ll n,vector<ll>&a){    for(ll i=0;i<n;i++)cin>>a[i];} void solve(){    ll n,k,d;    cin>>n>>k>>d;    vector<ll>arr(n);    f(n,arr);    ll cnt=n;    unordered_map<ll,ll>mp;    ll left=0,right=0;    while (right<n)    {        mp[arr[right]]++;        if(right-left+1==d){            cnt=min(cnt,(ll)mp.size());            mp[arr[left]]--;            if(mp[arr[left]]==0)mp.erase(arr[left]);            left++;        }        right++;    }    cout<<cnt<<'\n';    } int main(){ll t;cin>>t;while (t--){    solve();}     return 0;}