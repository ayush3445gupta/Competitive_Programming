#include<bits/stdc++.h>using namespace std;typedef long long ll;void f(ll n,vector<ll>&a){    for(ll i=0;i<n;i++)cin>>a[i];}void solve(){    ll n,m;    cin>>n>>m;    vector<vector<ll>>adj(n+1);    vector<ll>indegree(n+1,0),outdegree(n+1,0);    for (ll i = 0; i < m; i++)    {        ll a,b;        cin>>a>>b;        adj[a].push_back(b);        adj[b].push_back(a);    }    ll leaf_node=0;    for (ll i = 1; i <=n; i++)    {        if(adj[i].size()==1){            leaf_node=i;            break;        }    }    ll parent=adj[leaf_node][0];    ll y=adj[parent].size()-1;    ll gp=0;    for(auto it:adj[parent]){        if(adj[it].size()>1){            gp=it;            break;        }    }    ll x=adj[gp].size();     cout<<x<<" "<<y<<'\n';} int main(){ll t;cin>>t;while (t--){    solve();}     return 0;}