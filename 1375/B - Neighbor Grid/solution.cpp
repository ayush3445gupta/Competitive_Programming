#include<bits/stdc++.h>using namespace std;typedef long long ll;// void solve(){//     ll n,m;//     cin>>n>>m;//     vector<vector<ll>>grid(n,vector<ll>(m));//     bool flag = 1;//     for (ll i = 0; i < n; i++)//     {//         for (ll j = 0; j < m; j++)//         {//             ll x;//             cin>>x;//                 ll dr[]={0,-1,0,1};//                 ll dc[]={-1,0,1,0};//                 ll cnt=0;//                 for (ll k = 0; k < 4; k++)//                 {//                    ll nr=i+dr[k],nc=j+dc[k];//                    if(nr>=0 && nr<n && nc<m && nc>=0)cnt++;//                 }//             if(x>cnt)flag=0;//                 grid[i][j]=cnt;//         }  //     }//     if(flag){//         cout<<"YES"<<'\n';//         for (ll i = 0; i < n; i++)//         {//            for (ll j = 0; j < m; j++)//            {//             cout<<grid[i][j]<<" ";//            }//            cout<<'\n';//         }//     }//     else{//         cout<<"NO"<<'\n';//     }// }ll check(ll row,ll col,vector<vector<ll>>&grid){    ll n=grid.size(),m=grid[0].size();    ll dx[]={-1,0,1,0};    ll dy[]={0,1,0,-1};    ll cnt=0;     for (ll i = 0; i < 4; i++)    {        ll nrow=row+dy[i],ncol=col+dx[i];        if(nrow>=0 && nrow<n && ncol>=0 && ncol<m)cnt++;    }    return cnt;}void solve(){    ll n,m;    cin>>n>>m;    vector<vector<ll>>grid(n,vector<ll>(m));    for (ll i = 0; i < n; i++)        for (ll j = 0; j < m; j++)          cin>>grid[i][j];        bool flag=0;    for (ll i = 0; i < n; i++)        for (ll j = 0; j < m; j++){            if(check(i,j,grid)<grid[i][j]){                flag=1;                break;            }        }        if(flag)cout<<"NO"<<'\n';    else{        cout<<"YES"<<'\n';        for (ll i = 0; i < n; i++)        {           for (ll j = 0; j < m; j++)           {            grid[i][j]=check(i,j,grid);            cout<<grid[i][j]<<" ";           }           cout<<'\n';        }    }    }int main(){ll t;cin>>t;while (t--){    solve();}     return 0;}